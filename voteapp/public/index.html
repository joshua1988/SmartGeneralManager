<!DOCTYPE>
<html data-ng-app="myApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
	     content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

  <!-- Angular DatePicker -->

  <!-- jQuery Date Picker -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script>
  $(function() {
    $( "#datepicker" ).datepicker({
      onSelect: function(dateStr){
        var date = $(this).datepicker('getDate');
        var thedate = $.datepicker.formatDate("yy-mm-dd", $(this).datepicker('getDate'));



        console.log("current date : ",date);
        console.log("current date : ",thedate);
      }
    });
    // $( "#datepicker" ).datepicker( "setDate", "09/17/2015" );

  });
  </script>

  <link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
  <style>
  body {
    font-family: 'PT Sans', sans-serif;
  }
  </style>
  <title>SW Platform Survey System "편해라 총무"</title>
</head>
<body>
  <div class="container" data-ng-controller="AppCtrl">
		<div class="header clearfix">
			<nav>
				<ul class="nav nav-pills pull-right" role="tablist">
          <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">참석 현황</a></li>
          <li role="presentation"><a href="#menuvote" aria-controls="menuvote" role="tab" data-toggle="tab">메뉴 투표</a></li>
          <li role="presentation"><a href="#teamchat" aria-controls="teamchat" role="tab" data-toggle="tab">팀 수다</a></li>
          <li role="presentation"><a href="#notice" aria-controls="notice" role="tab" data-toggle="tab" ng-click="updateMyChartData()">공지 사항</a></li>
				</ul>
			</nav>
			<h3 class="text-muted">Real-time Survey System "편해라 총무"</h3>
		</div>

    <!-- 1st page -->
		<div class="jumbotron">
			<h2>SW플랫폼 연구팀 실시간 조사</h2>
			<p class="lead">
				맛있는거 먹을 시간입니다.
        <div class="row">
          <div class="col-md-6">
            <p>날짜 :&nbsp;<input type="text" ng-model="datePicker" datepicker />
          </div>
          <div class="col-md-6">
            <div class="input-group">
              <span class="input-group-addon" id="sizing-addon2">시간</span>
              <input type="text" class="form-control" placeholder="시간을 입력합니다" aria-describedby="sizing-addon2" value="19:00 장가네전골(야탑역 근처)">
            </div>
          </div>
        </div>
			</p>
		</div>

		<div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="home">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">참석자 조사</h3>
          </div>
          <div class="panel-body">
            <table class="table table-bordered">
    					<tr class="info">
    						<td>
    						이름
    						</td>
    						<td>
    						참석여부
    						</td>
    					</tr>
    					<tr data-ng-repeat="mem in members" data-ng-if="mem.selected != undefined">
    						<td class="success">
    						{{mem.name}}
    						</td>
    						<td>
    							<input type="checkbox" data-ng-model="mem.selected">
    						</td>
    					</tr>
    				</table>
          </div>
          <div class="panel-footer panel-primary">
            <button class="btn btn-primary" type="button">
      			  참석: <span class="badge">{{ selectedMembers }}</span>
      			</button>
      		  <button class="btn btn-danger" type="button">
      			  불참석: <span class="badge">{{ unselectedMembers }}</span>
      			</button>
      			<span style="float:right">
      				<button class="btn btn-info" data-ng-click="save()">저장</button>
      				<button class="btn btn-info" data-ng-click="clear()">리셋</button>
      			</span>
          </div>
        </div>
      </div>
      <!-- 2nd page -->
      <div role="tabpanel" class="tab-pane" id="menuvote">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">회식 메뉴 선택</h3>
          </div>
          <div class="panel-body">
            <form class="form-inline">
              <input type="text" ng-model="foodname" ng-enter="addFoodMenu()"
              class="form-control" id="foodmenu" placeholder="원하는 메뉴를 입력해주세요" style="width:40%">
              <button type="button" class="btn btn-success" ng-click="addFoodMenu()">추가</button>
            </form>
            <div id="menulist">
              <div ng-repeat="field in fields">
                <food-display></food-display>
              </div>
            </div>
          </div>
          <div class="panel-footer panel-primary" align="right">
            <button class="btn btn-info " data-ng-click="saveList()">저장</button>
            <!-- <button class="btn btn-danger " data-ng-click="resetList()" disabled="disabled">리셋</button> -->
            <button class="btn btn-danger " data-ng-click="resetList()">리셋</button>
          </div>
        </div>
      </div>
      <!-- 3rd page -->
      <div role="tabpanel" class="tab-pane" id="teamchat">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">팀 수다공간</h3>
          </div>
          <div class="panel-body" style="height:600px" id="chatSpace">
            <div ng-repeat="chatcontent in chatcontents">
              <div class="well">{{chatcontent.user}} : {{chatcontent.content}}
              &nbsp&nbsp&nbsp
                <button type="button" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp Edit &nbsp</button>
                <button type="button" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>&nbsp Reply</button>
                <button type="button" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>&nbsp Delete</button>
              </div>
            </div>
            <!-- <div ng-repeat="chatcontent in chatcontents">
              <chat-log></chat-log>
            </div> -->
          </div>
          <div class="panel-footer panel-primary" align="left">
            <form class="form-inline">
              <input type="text" class="form-control" ng-model="chatInput" placeholder="할 말을 입력하세요"  ng-enter="typeChatting()" style="width:80%">
              <button type="button" class="btn btn-success" ng-click="typeChatting()">입력</button>
            </form>
          </div>
        </div>
      </div>
      <!-- 4rd page -->
      <div role="tabpanel" class="tab-pane" id="notice" >
        <!-- 4 페이지
        (1) Outline -> 1페이지 참석현황 그래프로 표시
                       2페이지 인기메뉴 그래프로 표시 -->
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">종합현황</h3>
          </div>
          <div class="panel-body">
            <div class="row">
              <div class="col-md-6">
                <div class="panel panel-info">
                  <div class="panel-heading">
                     출석현황
                  </div>
                  <div class="panel-body">
                    <fusioncharts
                        width="400"
                        height="300"
                        type="pie3d"
                        datasource="{{myDataSource}}"
                    ></fusioncharts>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="panel panel-success">
                  <div class="panel-heading">
                     인기메뉴
                  </div>
                  <div class="panel-body">
                    <div fusioncharts
                        width="400"
                        height="300"
                        type="column2d"
                        datasource="{{dataSource}}"
                        ></div>
                    <p><a class="btn btn-default" ng-click="updateMyChartData()">Click me to change data</a></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
		</div>

		<footer class="footer clearfix">
			<p>&copy; Posco ICT R&D Center 2015</p>
		</footer>

	</div><!-- /container -->
  <!-- Body end -->
  <!-- <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="fusioncharts.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
  <script type="text/javascript" src="angular-datepicker.js"></script>
  <script type="text/javascript" src="angular-fusioncharts.min.js"></script>
  <script type="text/javascript" src="angular-resource.min.js"></script>
  <script type="text/javascript" src="controllers/controller.js"></script>
</body>
</html>
